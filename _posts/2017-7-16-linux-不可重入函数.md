---
layout:     post                    # 使用的布局（不需要改）
title:      不可重入函数               # 标题 
subtitle:     #副标题
date:       2017-7-16              # 时间
author:     co                      # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - linux
---
## 不可重入函数
在信号处理的时候，或者多线程的时候容易出现这样的问题。本质是因为多个执行流导致原本应该作为一个原子操作的单元被打断了，导致出现了不可预期的效果。
## 例子
- 比如malloc函数。因为malloc函数本质上是在一个链表上添加新节点的。我们知道在链表间插入新节点是分为几个步骤的，如果被打断，切换执行流，然后再切换回来，那么链表的衔接可能有出问题了。
- 还有一些库函数，内部是对static或者全局数据结构进行操作。也就是说存在不同的执行流修改同一个数据。那么结果可想而知。
## over