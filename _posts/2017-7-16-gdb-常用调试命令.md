---
layout:     post                    # 使用的布局（不需要改）
title:      常用调试命令              # 标题 
subtitle:     #副标题
date:       2017-7-16              # 时间
author:     co                      # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - gdb
---

最开始我们在window上都是使用visual studio调试的。在window上我们一般常用的是
- 启动 
- 添加删除断点 展示所有断点 
- 查看局部变量
- 单步执行
- 继续执行
- 退出调试
- 查看堆栈
- 查看变量类型
- 查看代码中断位置附近的代码 


这些跟gdb是一一对应的。每个命令都可以简写，比如run ，输入 r 就可以了。

#### 启动
run命令。这个只要run一下，就会重新启动。简写 r
#### 添加删除断点 展示所有断点
- 添加断点 break  b
- 删除 delete d
- 查看所有断点 info break

```
b 7 		第七行加一个断点
d 7 		删除第七行的断点
info b 		显示所有断点
```
如果在其他文件里面打印断点则用 `b filename:line`
```
b server.c:77  
```
#### 查看局部变量
print var表示查看变量 var。
```
print var	查看var变量的值
```

> print 还可以设置局部变量。比如循环开始是10，你想设置成1000看看是否有什么不同。

#### 单步执行
next
```
n 
```
#### 继续执行
continue
```
c
```
#### 查看堆栈
backtrace
```
bt  打印堆栈

```
我们在vs中经常可以点击某一帧查看，gdb使用 frame 3 
```
f 3 //查看第三帧
```
#### 查看变量类型
ptype 这个对于查看结构体的成员很有用
```
ptype var
```
不过成员很多的话，要按回车键才能看完。
#### 查看代码中断位置附近的代码
list 
```
l
```
list+ list- 是对查看代码范围的移动
#### 退出调试
quit
```
q
```

#### 总结
基本上gdb只是调试代码用，阅读代码还是要用其他编辑器。比如ptype vare 查看变量成员，如果成员多了就需要按回车键看其他的。所以本地还是要打开一个代码编辑器查看代码。
#### 结束


